# Day counter sensors

- sensor:
    - unique_id: month_current_day_count
      default_entity_id: sensor.month_current_day_count
      name: "Aktueller Monat - Anzahl Tage"
      icon: mdi:calendar
      state: >
        {% set today = now().date() %}
        {% set first_day_next_month = (today.replace(day=1) + timedelta(days=32)).replace(day=1) %}
        {{ (first_day_next_month - today.replace(day=1)).days }}

- sensor:
    - unique_id: month_upcoming_day_count
      default_entity_id: sensor.month_upcoming_day_count
      name: "Folgender Monat - Anzahl Tage"
      icon: mdi:calendar-month
      state: >
        {% set today = now().date() %}
        {% set first_day_next_month = (today.replace(day=1) + timedelta(days=32)).replace(day=1) %}
        {% set first_day_after_next_month = (first_day_next_month + timedelta(days=32)).replace(day=1) %}
        {{ (first_day_after_next_month - first_day_next_month).days }}

# Month name sensors

- sensor:
    - unique_id: month_current_name
      default_entity_id: sensor.month_current_name
      name: "Aktueller Monat - Name"
      icon: mdi:calendar
      state: >
        {% set month_names = {
          'January': 'Januar', 'February': 'Februar', 'March': 'März',
          'April': 'April', 'May': 'Mai', 'June': 'Juni',
          'July': 'Juli', 'August': 'August', 'September': 'September',
          'October': 'Oktober', 'November': 'November', 'December': 'Dezember'
        } %}
        {% set current_month = now().strftime('%B') %}
        {{ month_names[current_month] }}

- sensor:
    - unique_id: month_upcoming_name
      default_entity_id: sensor.month_upcoming_name
      name: "Folgender Monat - Name"
      icon: mdi:calendar-month
      state: >
        {% set month_names = {
          'January': 'Januar', 'February': 'Februar', 'March': 'März',
          'April': 'April', 'May': 'Mai', 'June': 'Juni',
          'July': 'Juli', 'August': 'August', 'September': 'September',
          'October': 'Oktober', 'November': 'November', 'December': 'Dezember'
        } %}
        {% set today = now().date() %}
        {% set upcoming_month = (today.replace(day=1) + timedelta(days=32)).replace(day=1) %}
        {{ month_names[upcoming_month.strftime('%B')] }}

# First day sensors
- sensor:
    - unique_id: month_current_first_day
      default_entity_id: sensor.month_current_first_day
      name: "Aktueller Monat - Erster Tag"
      icon: mdi:calendar
      state: >
        {{ now().replace(day=1).strftime('%Y-%m-%d') }}

- sensor:
    - unique_id: month_upcoming_first_day
      default_entity_id: sensor.month_upcoming_first_day
      name: "Folgender Monat - Erster Tag"
      icon: mdi:calendar
      state: >
        {% set today = now() %}
        {% set first_day_next_month = (today.replace(day=1) + timedelta(days=31)).replace(day=1) %}
        {{ first_day_next_month.strftime('%Y-%m-%d') }}

# Last day sensors

- sensor:
    - unique_id: month_current_last_day
      default_entity_id: sensor.month_current_last_day
      name: "Aktueller Monat - Letzter Tag"
      icon: mdi:calendar
      state: >
        {% set today = now() %}
        {% set first_day_next_month = (today.replace(day=1) + timedelta(days=31)).replace(day=1) %}
        {{ (first_day_next_month - timedelta(days=1)).strftime('%Y-%m-%d') }}

- sensor:
    - unique_id: month_upcoming_last_day
      default_entity_id: sensor.month_upcoming_last_day
      name: "Folgender Monat - Letzter Tag"
      icon: mdi:calendar
      state: >
        {% set today = now() %}
        {% set first_day_next_month = (today.replace(day=1) + timedelta(days=31)).replace(day=1) %}
        {% set first_day_after_next_month = (first_day_next_month + timedelta(days=31)).replace(day=1) %}
        {{ (first_day_after_next_month - timedelta(days=1)).strftime('%Y-%m-%d') }}
